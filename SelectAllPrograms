
package seleniumcodes;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;


public class SeleniumCodes {

    static WebDriver driver;
    static List<WebElement> a = new ArrayList<>();
    static List<String> currentPages = new ArrayList<>();
    
    public static void main(String[] args) {
        System.setProperty("webdriver.chrome.driver", "/Users/vkoloyu/Downloads/chromedriver");
        driver = new ChromeDriver ();
    

//printing current page
    driver.get("http://www.pearsonschool.com/index.cfm?locator=PSZu6e&PMDbSiteid=2781&PMDbSolutionid=6724&PMDbSubSolutionid=&PMDbCategoryid=806&&filter_423=6732");
    
    a = driver.findElements(By.tagName("a"));
    for (WebElement e:a) {
    String k = e.getAttribute("href");
    
    //adding all curent pages to array
    if (k !=null && k.contains("currentPage") ) 
    {
        if (!currentPages.contains(k)) {
    currentPages.add(k);}}
                         }
    
    // loop thru pages in pager after see more
    for (String j:currentPages){
    driver.get(j);
    printALLredirect();         }
    
    System.out.println(Arrays.toString(currentPages.toArray()));
    //flush array to use in another cycle
    currentPages.clear();
    System.out.println(Arrays.toString(currentPages.toArray()));
    
    
  
    driver.close();
       }
    
    
    //printing all programs from the page
      public static void printALLredirect (){
         
      List<String> pageSource = new ArrayList<String>(Arrays.asList(driver.getPageSource().split("\n")));
      for (String u:pageSource){
      if (u.contains("redirect")){
      System.out.println(u); } }}
      
      
      
      
      
      
      
      
}
